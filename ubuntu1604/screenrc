# vi ~/.screenrc
# Encoding
defencodig utf-8
 
# Prefix Key
escape ~Aa
 
# Delete sartt up screen
startup_message off
 
# Auto detach
autodetach on
 
# logging
log on
deflog on
logfile "/var/log/screen-%Y%m%d-%n.log"
 
# Show date and screen list
# hardstatus alwayslastline "%{= rw} %H %{= wk}%-Lw%{= bw}%n%f* %t%{= wk}%+Lw %{= wk}%=%{= gk} %y/%m/%d %c "
# hardstatus alwayslastline '%{= kw}%02c:%s %{= .w}%H %L=%{= .c}%-w%46>%{= .c}%n %t*%{= .b}%+w%-16=%{= .y}[%l]'
hardstatus alwayslastline '%{= kw}%02c:%s (%l) %{= .w}%H %L=%{= kc}%-w%46>%{=u wb}%n %t*%{= kc}%+w%-16=%{= .y}[%l]'

# Scroll Buffer
## default scrollback
defscrollback 100000

## clear scrollback buffer
bind F eval 'scrollback 0' 'scrollback 1000' 'echo "scrollback buffer cleared"'

# Color Scheme
## set color scheme
defbce on
term xterm-256color

# motd
startup_message off

# debug
verbose on

# workaround for window size
# xterm 
termcapinfo xterm 'is=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;4;6l'

# kterm
# termcapinfo kterm-color 'is=\E[r\E[m\E[2J\E[H\E[?7h\E[?1;4;6l'

# write screen copy buffer to X window clipboard.
#   - writebuf : screen's command, it write screen's copy buffer to file.
#                if the filename doesn't specified, /tmp/screen-exchange is used as default.
#   - xsel -bi : read string and send to X window copy buffer.
bind > eval writebuf "exec sh -c 'cat /tmp/screen-exchange | xsel -bi'" "echo 'copy to clipboard!'"

# disable default keybind.
bind ] eval ""

# write clipboard to screen writebuffer through /tmp/screen-exchange file.
bind < eval "exec sh -c 'xsel -bo >/tmp/screen-exchange'" "echo 'copy to screen writebuffer'"

# add scrollback with mouse wheel
termcapinfo xterm* ti@:te@

# Resize window
bind e eval 'command -c resize' 'echo "Resize window"'
bind ^e eval 'command -c resize' 'echo "Resize window"'
bind -c resize h eval 'command -c resize' 'resize -h -1'
bind -c resize l eval 'command -c resize' 'resize -h +1'
bind -c resize j eval 'command -c resize' 'resize -v +1'
bind -c resize k eval 'command -c resize' 'resize -v -1'
bind -c resize ^h eval 'command -c resize' 'resize -h -1'
bind -c resize ^l eval 'command -c resize' 'resize -h +1'
bind -c resize ^j eval 'command -c resize' 'resize -v +1'
bind -c resize ^k eval 'command -c resize' 'resize -v -1'

defmousetrack on
mousetrack off
